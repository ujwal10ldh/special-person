<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>A Special Surprise ‚ú®</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&family=Dancing+Script:wght@700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <style>
        /* Same Original Professional Styling */
        * { box-sizing: border-box; margin: 0; padding: 0; -webkit-tap-highlight-color: transparent; }
        
        body {
            height: 100vh; width: 100vw;
            display: flex; justify-content: center; align-items: center;
            background: #050505;
            background-image: radial-gradient(circle at 50% 50%, rgba(26, 26, 46, 0.9), #050505);
            font-family: 'Poppins', sans-serif;
            color: white; overflow: hidden;
            position: relative;
        }

        .card {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(25px);
            -webkit-backdrop-filter: blur(25px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 32px;
            padding: 40px 25px;
            width: 90%;
            max-width: 380px;
            text-align: center;
            box-shadow: 0 40px 100px rgba(0, 0, 0, 0.8);
            z-index: 10;
        }

        .badge {
            background: rgba(255, 117, 140, 0.15);
            border: 1px solid rgba(255, 117, 140, 0.4);
            padding: 6px 16px;
            border-radius: 12px;
            font-size: 0.65rem;
            display: inline-block;
            color: #ff758c;
            margin-bottom: 20px;
            letter-spacing: 2px;
            font-weight: 600;
            text-transform: uppercase;
        }

        .profile-container {
            width: 100px; height: 100px;
            margin: 0 auto 25px;
            padding: 4px;
            background: linear-gradient(45deg, #ff758c, #00d4ff);
            border-radius: 50%;
            animation: spin 4s linear infinite;
        }

        @keyframes spin { 100% { transform: rotate(360deg); } }

        .profile-pic {
            width: 100%; height: 100%;
            border-radius: 50%;
            background: #111;
            border: 4px solid #050505;
            object-fit: cover;
        }

        h1 { font-family: 'Dancing Script', cursive; font-size: 1.8rem; margin-bottom: 15px; color: #ff758c; }
        
        .message {
            font-size: 0.8rem;
            line-height: 1.7;
            color: rgba(255,255,255,0.7);
            margin-bottom: 30px;
            text-align: left;
            min-height: 160px; /* Space for typing effect */
        }

        .btn {
            width: 100%; padding: 15px;
            margin-bottom: 12px; border-radius: 16px;
            border: none; cursor: pointer;
            font-family: 'Poppins'; font-size: 0.9rem;
            transition: 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            color: white; font-weight: 600;
        }

        .btn-main {
            background: linear-gradient(90deg, #ff758c, #ff7eb3);
            box-shadow: 0 10px 20px rgba(255, 117, 140, 0.3);
        }

        .btn-outline {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        /* Song Selection List Style */
        .song-list { display: flex; overflow-x: auto; gap: 10px; padding: 10px 0; margin-bottom: 10px; scrollbar-width: none; }
        .song-list::-webkit-scrollbar { display: none; }
        .song-btn { flex: 0 0 auto; background: rgba(255,255,255,0.08); padding: 8px 15px; border-radius: 20px; font-size: 0.72rem; border: 1px solid rgba(255,117,140,0.2); cursor: pointer; color: #ff758c; }

        .step { display: none; }
        .active { display: block; animation: slideUp 0.6s ease; }
        @keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        #ytWrap { border-radius: 20px; overflow: hidden; border: 1px solid #ff758c; margin-top: 5px; background: #000; }
        iframe { width: 100%; height: 210px; display: block; }

        .heart {
            position: absolute; bottom: -10%;
            font-size: 20px; color: #ff758c;
            opacity: 0.5; animation: floatUp 5s linear infinite;
        }
        @keyframes floatUp { to { transform: translateY(-110vh) rotate(360deg); opacity: 0; } }

        textarea {
            width: 100%; background: rgba(0,0,0,0.3); border: 1px solid rgba(255,255,255,0.1);
            border-radius: 18px; color: white; padding: 15px; resize: none; margin-bottom: 10px; font-family: 'Poppins';
        }
    </style>
</head>
<body>

<div id="heartBox"></div>

<div class="card">
    <div id="step1" class="step active">
        <div class="badge">Happy Birthday ‚ú®</div>
        <div class="profile-container">
            <img class="profile-pic" src="https://cdn-image.notjustanalytics.com/https://scontent-lhr6-1.cdninstagram.com/v/t51.2885-19/474016993_587489884078653_6789317626583202244_n.jpg?stp=dst-jpg_s150x150_tt6&efg=eyJ2ZW5jb2RlX3RhZyI6InByb2ZpbGVfcGljLmRqYW5nby4xMDgwLmMyIn0&_nc_ht=scontent-lhr6-1.cdninstagram.com&_nc_cat=109&_nc_oc=Q6cZ2QHMBQ0ljP8N87_KYAdLwDZlog65Brpsg1X9-e0il9kAPeqkg2ep83ysuqZjwnnCZXQ&_nc_ohc=y_2HuwNWC6cQ7kNvwGYWJim&_nc_gid=c6kOZEpqJuvVLXugaaSfuA&edm=AOQ1c0wBAAAA&ccb=7-5&oh=00_AfoA8D7Kq6xSqIdZWgL9sEiKnNXxB8ExQPgq186MbRqAFQ&oe=696C239E&_nc_sid=8b3546" onerror="this.src='https://cdn-icons-png.flaticon.com/512/3135/3135715.png'">
        </div>
        <h1>For Birthday Girl...</h1>
        <div class="message" id="typewriter"></div>
        
        <button class="btn btn-main" onclick="goStep(2, 'Pakki Dosti ‚ù§Ô∏è')">Theek hai, dosti pakki! ‚ù§Ô∏è</button>
        <button class="btn btn-outline" onclick="goStep(2, 'Thinking... üôÇ')">Thoda gussa hoon üò§</button>
        <button class="btn btn-outline" onclick="showDirectReply('Just a Wish üéÅ')">Mujhe waqt chahiye üôÇ</button>
    </div>

    <div id="step2" class="step">
        <p style="margin-bottom: 10px; font-size: 0.75rem; color: #ff758c;">Sunno... Choose your vibe üéµ</p>
        <div class="song-list">
            <div class="song-btn" onclick="playSong('AX6OrbgS8lI')">Tu Hai Kahan</div>
            <div class="song-btn" onclick="playSong('AUNV398t_30')">Sunniya Sunniya</div>
            <div class="song-btn" onclick="playSong('vS6-pGv6yYk')">Apa Fer Milage</div>
            <div class="song-btn" onclick="playSong('M576zZ_r7_U')">Shikayat</div>
            <div class="song-btn" onclick="playSong('S6_mY97P-Kk')">Softy</div>
            <div class="song-btn" onclick="playSong('8mY6m7M-68Y')">Haseen</div>
        </div>
        <div id="ytWrap"></div>
        <button class="btn btn-main" style="margin-top: 15px;" onclick="goStep(3)">Write Your Reply ‚ú®</button>
    </div>

    <div id="step3" class="step">
        <form action="https://formspree.io/f/mjggvjqa" method="POST">
            <p id="statusTxt" style="color: #ff758c; margin-bottom: 10px; font-size: 0.8rem; font-weight: 600;"></p>
            <textarea name="message" rows="5" placeholder="Tumhare dil mein jo bhi hai..." required></textarea>
            <button type="submit" class="btn btn-main">Send Message</button>
        </form>
    </div>
</div>

<script>
    // New Psychological Message with Typewriter
    const text = "Yrr main dil se maafi mangta hoon... I'm really sorry. Shayad main pehle itna mature nahi tha ki sab kuch handle kar sakun, aur tum mujhse sahi se baat bhi nahi karti. Hum dono CR hain, hamari dosti special honi chahiye thi. 10th khatam hone wali hai aur phir shayad hum 10th ke baad na mil sakein... kya hum ye sab bhool kar ek baar phir dosti nahi kar sakte? Aaj tumhare birthday par itna toh maang hi sakta hoon.";
    
    let i = 0;
    function type() { if (i < text.length) { document.getElementById("typewriter").innerHTML += text.charAt(i); i++; setTimeout(type, 35); } }
    window.onload = type;

    function goStep(n, status = '') {
        if(status) { document.getElementById('statusTxt').innerText = "Status: " + status; }
        if(n === 2) { confetti({ particleCount: 150, spread: 70, origin: { y: 0.6 } }); }
        document.querySelectorAll('.step').forEach(s => s.classList.remove('active'));
        document.getElementById('step' + n).classList.add('active');
    }

    function showDirectReply(status) {
        document.getElementById('statusTxt').innerText = "Status: " + status;
        goStep(3);
    }

    function playSong(vid) {
        const wrap = document.getElementById('ytWrap');
        wrap.innerHTML = `<iframe width="100%" height="210" src="https://www.youtube-nocookie.com/embed/${vid}?autoplay=1" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>`;
    }

    function createHeart() {
        const heart = document.createElement('div');
        heart.className = 'heart';
        heart.innerHTML = '‚ù§Ô∏è';
        heart.style.left = Math.random() * 100 + 'vw';
        heart.style.animationDuration = (Math.random() * 2 + 3) + 's';
        document.getElementById('heartBox').appendChild(heart);
        setTimeout(() => heart.remove(), 5000);
    }
    setInterval(createHeart, 400);
</script>
</body>
</html>
