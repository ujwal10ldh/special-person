<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>A Special Surprise for You ‚ú®</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&family=Dancing+Script:wght@700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <style>
        * { box-sizing: border-box; margin: 0; padding: 0; -webkit-tap-highlight-color: transparent; }
        body {
            height: 100vh; width: 100vw; display: flex; justify-content: center; align-items: center;
            background: #020205; background-image: radial-gradient(circle at 20% 20%, rgba(255, 117, 140, 0.15), transparent), radial-gradient(circle at 80% 80%, rgba(0, 212, 255, 0.15), transparent);
            font-family: 'Poppins', sans-serif; color: white; overflow: hidden;
        }

        .card {
            background: rgba(255, 255, 255, 0.03); backdrop-filter: blur(25px); -webkit-backdrop-filter: blur(25px);
            border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 35px; padding: 35px 20px;
            width: 90%; max-width: 380px; text-align: center; box-shadow: 0 40px 100px rgba(0, 0, 0, 0.9); z-index: 10;
        }

        .badge { background: linear-gradient(90deg, #ff758c, #ff7eb3); padding: 5px 15px; border-radius: 20px; font-size: 0.65rem; font-weight: 700; letter-spacing: 1px; margin-bottom: 20px; display: inline-block; }

        .profile-container { width: 100px; height: 100px; margin: 0 auto 20px; padding: 4px; border-radius: 50%; background: linear-gradient(45deg, #ff758c, #00d4ff); animation: rotate 4s linear infinite; }
        @keyframes rotate { 100% { transform: rotate(360deg); } }
        .profile-pic { width: 100%; height: 100%; border-radius: 50%; background: #000; border: 3px solid #050505; object-fit: cover; }

        h1 { font-family: 'Dancing Script', cursive; font-size: 1.8rem; margin-bottom: 10px; color: #ff758c; }
        
        .message { font-size: 0.8rem; line-height: 1.6; color: rgba(255,255,255,0.8); margin-bottom: 25px; text-align: left; min-height: 110px; }

        /* Modern 3-Option Buttons */
        .btn { width: 100%; padding: 14px; margin-bottom: 10px; border-radius: 18px; border: none; cursor: pointer; font-family: 'Poppins'; font-size: 0.85rem; font-weight: 600; transition: 0.3s; color: white; }
        .btn-main { background: linear-gradient(90deg, #ff758c, #ff7eb3); box-shadow: 0 8px 15px rgba(255, 117, 140, 0.3); }
        .btn-outline { background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); }

        /* Song Selection List */
        .song-list { display: flex; overflow-x: auto; gap: 10px; padding: 10px 0; scrollbar-width: none; }
        .song-list::-webkit-scrollbar { display: none; }
        .song-btn { flex: 0 0 auto; background: rgba(255,255,255,0.1); padding: 8px 15px; border-radius: 20px; font-size: 0.75rem; border: 1px solid rgba(255,117,140,0.3); cursor: pointer; color: #ff758c; }

        .step { display: none; }
        .active { display: block; animation: fadeIn 0.5s ease; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } }

        #ytWrap { border-radius: 20px; overflow: hidden; border: 1px solid #ff758c; margin-top: 15px; background: #000; }
        .floating { position: absolute; bottom: -10%; pointer-events: none; animation: floatUp 6s linear infinite; }
        @keyframes floatUp { to { transform: translateY(-110vh) rotate(360deg); opacity: 0; } }
    </style>
</head>
<body>

<div id="particles"></div>

<div class="card">
    <div id="step1" class="step active">
        <div class="badge">HAPPY BIRTHDAY ‚ú®</div>
        <div class="profile-container"><img class="profile-pic" src="https://cdn-icons-png.flaticon.com/512/3135/3135715.png"></div>
        <h1>For Someone Special...</h1>
        <div class="message" id="typewriter"></div>
        
        <button class="btn btn-main" onclick="goStep(2, 'Pakki Dosti ‚ù§Ô∏è')">1. Sab bhool kar dosti pakki? ‚ù§Ô∏è</button>
        <button class="btn btn-outline" onclick="goStep(2, 'Thinking... üôÇ')">2. Maaf karungi, par thoda waqt chahiye üò§</button>
        <button class="btn btn-outline" onclick="showDirectReply('Just a Wish üéÅ')">3. Bas birthday wish accept karo üôÇ</button>
    </div>

    <div id="step2" class="step">
        <p style="font-size: 0.8rem; margin-bottom: 15px; color:#ff758c;">Choose your mood, listen to the vibe üéµ</p>
        <div class="song-list">
            <div class="song-btn" onclick="playSong('AX6OrbgS8lI')">Tu Hai Kahan</div>
            <div class="song-btn" onclick="playSong('AUNV398t_30')">Sunniya Sunniya</div>
            <div class="song-btn" onclick="playSong('vS6-pGv6yYk')">Apa Fer Milage</div>
            <div class="song-btn" onclick="playSong('M576zZ_r7_U')">Shikayat</div>
            <div class="song-btn" onclick="playSong('8mY6m7M-68Y')">Haseen</div>
            <div class="song-btn" onclick="playSong('S6_mY97P-Kk')">Softy (Aujla)</div>
        </div>
        <div id="ytWrap"></div>
        <button class="btn btn-main" style="margin-top: 20px;" onclick="goStep(3)">Write Your Reply ‚ú®</button>
    </div>

    <div id="step3" class="step">
        <form action="https://formspree.io/f/mjggvjqa" method="POST">
            <p id="statusTxt" style="color: #ff758c; margin-bottom: 10px; font-size: 0.8rem; font-weight: 600;"></p>
            <textarea name="message" rows="5" placeholder="Tumhare dil mein jo bhi hai, yahan keh do..." style="width:100%; background:rgba(0,0,0,0.3); border:1px solid rgba(255,255,255,0.1); border-radius:18px; padding:15px; color:white; margin-bottom:10px; font-family:'Poppins'; resize:none;"></textarea>
            <button type="submit" class="btn btn-main">Send Message</button>
        </form>
    </div>
</div>

<script>
    // Psychological Message Typing
    const text = "Aaj tumhara birthday hai, aur main nahi chahta hamari 'CR Wali Team' ek galti ki wajah se toot jaye. Humne class sambhali hai, ek dusre ko samjha hai... kya hamari dosti is gusse se badi nahi? I really miss our vibe. Kya aaj sab bhool kar ek fresh start kar sakte hain?";
    let i = 0;
    function type() { if (i < text.length) { document.getElementById("typewriter").innerHTML += text.charAt(i); i++; setTimeout(type, 35); } }
    window.onload = type;

    function goStep(n, status = '') {
        if(status) { document.getElementById('statusTxt').innerText = "Status: " + status; }
        if(n === 2) { confetti({ particleCount: 150, spread: 70, origin: { y: 0.6 } }); }
        document.querySelectorAll('.step').forEach(s => s.classList.remove('active'));
        document.getElementById('step' + n).classList.add('active');
    }

    function showDirectReply(status) {
        document.getElementById('statusTxt').innerText = "Status: " + status;
        goStep(3);
    }

    function playSong(vid) {
        const wrap = document.getElementById('ytWrap');
        wrap.innerHTML = `<iframe width="100%" height="210" src="https://www.youtube-nocookie.com/embed/${vid}?autoplay=1" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>`;
    }

    function createIcon() {
        const icon = document.createElement('div');
        icon.className = 'floating';
        icon.innerHTML = ['‚ù§Ô∏è', 'üéà', '‚ú®', 'üéÇ'][Math.floor(Math.random()*4)];
        icon.style.left = Math.random() * 100 + "vw";
        icon.style.animationDuration = Math.random() * 3 + 4 + "s";
        document.getElementById('particles').appendChild(icon);
        setTimeout(() => icon.remove(), 5000);
    }
    setInterval(createIcon, 400);
</script>
</body>
</html>
